<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.letsgotravel.myapp.persistance.MemberMapper">

  <!-- í˜„ìž¬ ì‹œê°„ ì¡°íšŒ -->
    <select id="getCurrentTime" resultType="string">
        SELECT NOW()
    </select>

    <!-- íšŒì› ì •ë³´ ì¶”ê°€ -->
    <insert id="insertMember" parameterType="com.letsgotravel.myapp.domain.MemberVo" useGeneratedKeys="true" keyProperty="midx">
        INSERT INTO MEMBER (id, name, phone, ip, delyn, date, password)
        VALUES (#{id}, #{name}, #{phone}, #{ip}, #{delyn}, NOW(), #{password})
    </insert>

    <!-- ì „í™”ë²ˆí˜¸ë¡œ íšŒì› midx ì¡°íšŒ -->
    <select id="findMidxByPhone" resultType="int" parameterType="string">
        SELECT midx FROM MEMBER WHERE phone = #{phone} LIMIT 1
    </select>

    <!-- ì•„ì´ë””ë¡œ íšŒì› ì¡°íšŒ -->
    <select id="findById" resultType="com.letsgotravel.myapp.domain.MemberVo" parameterType="string">
        SELECT * FROM MEMBER WHERE id = #{id} LIMIT 1
    </select>

    <!-- ðŸ“Œ ë¡œê·¸ì¸ ì²˜ë¦¬ -->
    <select id="memberlogin" resultType="com.letsgotravel.myapp.domain.MemberVo" parameterType="string">
        SELECT * FROM MEMBER WHERE id = #{id} LIMIT 1
    </select>

</mapper>
